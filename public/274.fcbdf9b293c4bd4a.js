"use strict";(self.webpackChunksalaDeJuegos=self.webpackChunksalaDeJuegos||[]).push([[274],{6274:(w,l,c)=>{c.r(l),c.d(l,{ChatModule:()=>P});var i=c(6895),s=c(4629),g=c(5861),e=c(4650),h=c(5789),p=c(433);const d=["scroll"];function u(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1),e._UZ(2,"br"),e.TgZ(3,"div",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,b=e.oxw();return e.KtG(b.show(a))}),e._uU(4),e.ALo(5,"date"),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.mensaje," "),e.xp6(3),e.Oqu(e.xi3(5,2,t.stamp,"MMM d, y, h:mm:ss a"))}}function m(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",21),e._uU(2),e.qZA(),e._uU(3),e._UZ(4,"br"),e.TgZ(5,"div",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,b=e.oxw();return e.KtG(b.show(a))}),e._uU(6),e.ALo(7,"date"),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.usuario.nombre),e.xp6(1),e.hij(" ",t.mensaje," "),e.xp6(3),e.Oqu(e.xi3(7,3,t.stamp,"MMM d, y, h:mm:ss a"))}}function f(n,r){if(1&n&&(e.TgZ(0,"div",null,15),e.YNc(2,u,6,5,"div",16),e.YNc(3,m,8,6,"div",17),e.qZA()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",t.usuario.nombre==o.miuser.nombre),e.xp6(1),e.Q6J("ngIf",t.usuario.nombre!=o.miuser.nombre)}}function C(n,r){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.charCount-t.chatmsg.length)}}function _(n,r){if(1&n&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.charCount-t.chatmsg.length)}}function M(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.guardarMensaje())}),e._uU(1,"Enviar"),e.qZA()}}function x(n,r){1&n&&(e.TgZ(0,"button",25),e._uU(1,"Enviar"),e.qZA())}const v=[{path:"",component:(()=>{class n{constructor(t,o){this.fdb=t,this.myScrollContainer=o,this.chatmsg="",this.charCount=200,this.fdb.traerChat(),this.traermsg()}ngOnInit(){this.miuser=JSON.parse(localStorage.getItem("usuario")),console.log(this.miuser)}ngOnChanges(t){console.log(t)}ngAfterViewInit(){this.scroll.nativeElement.scrollTo(0,this.scroll.nativeElement.scrollHeight)}guardarMensaje(){var t=this;return(0,g.Z)(function*(){""!=t.chatmsg&&t.charCount-t.chatmsg.length>=0&&(t.fdb.guardarChat(t.chatmsg),t.chatmsg="",yield t.delay(250),t.scrollToBottom())})()}traermsg(){var t=this;return(0,g.Z)(function*(){t.mensajes=t.fdb.chatcol,console.log(t.mensajes),yield t.delay(1e3),t.scrollToBottom()})()}show(t){console.log(t)}scrollToBottom(){try{this.scroll.nativeElement.scrollTo(0,this.scroll.nativeElement.scrollHeight)}catch{}}delay(t){return new Promise(o=>setTimeout(o,t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.y),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(t,o){if(1&t&&e.Gf(d,7),2&t){let a;e.iGM(a=e.CRH())&&(o.scroll=a.first)}},features:[e.TTD],decls:19,vars:8,consts:[[2,"width","500px","height","800px","margin","auto","border-radius","5px","background-color","rgba(144, 177, 255, 0.301)"],[2,"height","750px"],["id","right-col"],[2,"height","10px"],["id","inner-right",2,"width","480px","height","100%","background-color","rgb(255, 255, 255)","margin","auto","border-radius","5px"],["scroll",""],[4,"ngFor","ngForOf"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["class","input-group-text","id","basic-addon1","style","padding:8px",4,"ngIf"],["class","input-group-text","id","basic-addon1","style","padding:8px;color:red",4,"ngIf"],["type","text","placeholder","Mensaje","aria-label","Mensaje","aria-describedby","basic-addon2","name","msgtext",1,"form-control",2,"padding","8px",3,"ngModel","ngModelChange"],[1,"input-group-append"],["class","btn btn-primary","type","submit","style","padding:7px",3,"click",4,"ngIf"],["class","btn btn-secondary","type","submit","style","padding:7px","disabled","true",4,"ngIf"],["allTheseThings",""],["speech-bubble","","pbottom","","aright","","style","--bbColor:#d5aeff;width: 70%;margin-top: 10px;margin-right: 10px; margin-left: auto;","class","wrapdiv",4,"ngIf"],["speech-bubble","","pbottom","","aleft","","style","--bbColor:#d5aeff;width: 70%;margin-top: 10px;margin-left: 10px;","class","wrapdiv",4,"ngIf"],["speech-bubble","","pbottom","","aright","",1,"wrapdiv",2,"--bb-color","#d5aeff","width","70%","margin-top","10px","margin-right","10px","margin-left","auto"],[2,"text-align","right",3,"click"],["speech-bubble","","pbottom","","aleft","",1,"wrapdiv",2,"--bb-color","#d5aeff","width","70%","margin-top","10px","margin-left","10px"],[1,"title"],["id","basic-addon1",1,"input-group-text",2,"padding","8px"],["id","basic-addon1",1,"input-group-text",2,"padding","8px","color","red"],["type","submit",1,"btn","btn-primary",2,"padding","7px",3,"click"],["type","submit","disabled","true",1,"btn","btn-secondary",2,"padding","7px"]],template:function(t,o){1&t&&(e._UZ(0,"br"),e.TgZ(1,"table",0)(2,"tr",1)(3,"div",2),e._UZ(4,"div",3),e.TgZ(5,"div",4,5),e.YNc(7,f,4,2,"div",6),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"tr"),e._UZ(10,"br"),e.TgZ(11,"div",7)(12,"div",8),e.YNc(13,C,2,1,"span",9),e.YNc(14,_,2,1,"span",10),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(b){return o.chatmsg=b}),e.qZA(),e.TgZ(16,"div",12),e.YNc(17,M,2,0,"button",13),e.YNc(18,x,2,0,"button",14),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",e.lcZ(8,6,o.mensajes)),e.xp6(6),e.Q6J("ngIf",o.charCount-o.chatmsg.length>=0),e.xp6(1),e.Q6J("ngIf",o.charCount-o.chatmsg.length<0),e.xp6(1),e.Q6J("ngModel",o.chatmsg),e.xp6(2),e.Q6J("ngIf",o.charCount-o.chatmsg.length>=0),e.xp6(1),e.Q6J("ngIf",o.charCount-o.chatmsg.length<0))},dependencies:[i.sg,i.O5,p.Fj,p.JJ,p.On,i.Ov,i.uU],styles:['[speech-bubble][_ngcontent-%COMP%], [speech-bubble][_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[speech-bubble][_ngcontent-%COMP%]{--bbColor: grey;--bbArrowSize: 1.5rem;--bbBorderRadius: .25rem;--bbPadding: 1rem;background:var(--bbColor);border-radius:var(--bbBorderRadius);padding:var(--bbPadding);position:relative}[speech-bubble][_ngcontent-%COMP%]:before{content:"";position:absolute;background:var(--bbColor)}[speech-bubble][pbottom][_ngcontent-%COMP%]{margin-bottom:var(--bbArrowSize)}[speech-bubble][ptop][_ngcontent-%COMP%]{margin-top:var(--bbArrowSize)}[speech-bubble][pleft][_ngcontent-%COMP%]{margin-left:var(--bbArrowSize)}[speech-bubble][pright][_ngcontent-%COMP%]{margin-right:var(--bbArrowSize)}[speech-bubble][pbottom][_ngcontent-%COMP%]:before, [speech-bubble][ptop][_ngcontent-%COMP%]:before{--width: calc(var(--bbArrowSize) / 2 * 3);height:var(--bbArrowSize);width:var(--width)}[speech-bubble][pbottom][_ngcontent-%COMP%]:before{top:calc(100% - 2px)}[speech-bubble][pbottom][aleft][_ngcontent-%COMP%]:before{left:1rem;clip-path:polygon(25% 0,100% 0,0% 100%)}[speech-bubble][pbottom][acenter][_ngcontent-%COMP%]:before{left:calc(50% - var(--width) / 2);clip-path:polygon(12.5% 0,87.5% 0,50% 100%)}[speech-bubble][pbottom][aright][_ngcontent-%COMP%]:before{right:1rem;clip-path:polygon(0 0,75% 0,100% 100%)}[speech-bubble][ptop][_ngcontent-%COMP%]:before{bottom:calc(100% - 2px)}[speech-bubble][ptop][aleft][_ngcontent-%COMP%]:before{left:var(--bbPadding);clip-path:polygon(0 0,100% 100%,25% 100%)}[speech-bubble][ptop][acenter][_ngcontent-%COMP%]:before{left:calc(50% - var(--width) / 2);clip-path:polygon(12.5% 100%,50% 0,87.5% 100%)}[speech-bubble][ptop][aright][_ngcontent-%COMP%]:before{right:var(--bbPadding);clip-path:polygon(0 100%,100% 0,75% 100%)}[speech-bubble][pleft][_ngcontent-%COMP%]:before, [speech-bubble][pright][_ngcontent-%COMP%]:before{--height: calc(var(--bbArrowSize) / 2 * 3);width:var(--bbArrowSize);height:var(--height)}[speech-bubble][pright][_ngcontent-%COMP%]:before{left:calc(100% - 2px)}[speech-bubble][pright][atop][_ngcontent-%COMP%]:before{top:var(--bbPadding);clip-path:polygon(100% 0,0 100%,0 25%)}[speech-bubble][pright][acenter][_ngcontent-%COMP%]:before{top:calc(50% - var(--height) / 2);clip-path:polygon(0 12.5%,100% 50%,0 87.5%)}[speech-bubble][pright][abottom][_ngcontent-%COMP%]:before{bottom:var(--bbPadding);clip-path:polygon(0 0,100% 100%,0 75%)}[speech-bubble][pleft][_ngcontent-%COMP%]:before{right:calc(100% - 2px)}[speech-bubble][pleft][atop][_ngcontent-%COMP%]:before{top:var(--bbPadding);clip-path:polygon(0 0,100% 25%,100% 100%)}[speech-bubble][pleft][acenter][_ngcontent-%COMP%]:before{top:calc(50% - var(--height) / 2);clip-path:polygon(0 50%,100% 12.5%,100% 87.5%)}[speech-bubble][pleft][abottom][_ngcontent-%COMP%]:before{bottom:var(--bbPadding);clip-path:polygon(0 100%,100% 0,100% 75%)}[speech-bubble][pbottom][flip][_ngcontent-%COMP%]:before, [speech-bubble][ptop][flip][_ngcontent-%COMP%]:before{transform:scaleX(-1)}[speech-bubble][pleft][flip][_ngcontent-%COMP%]:before, [speech-bubble][pright][flip][_ngcontent-%COMP%]:before{transform:scaleY(-1)}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;cursor:default}body[_ngcontent-%COMP%]{max-width:60rem;margin-inline:auto;font-family:sans-serif;display:grid;grid-template-areas:"br bc bl" "rb cc lb" "rc cc lc" "rt cc lt" "tr tc tl";padding:2rem;gap:2rem;background:#141518}.middle[_ngcontent-%COMP%]{grid-area:cc;align-self:center;justify-self:center;text-align:center;color:#fff}[speech-bubble][pbottom][aleft][_ngcontent-%COMP%]{grid-area:bl}[speech-bubble][pbottom][acenter][_ngcontent-%COMP%]{grid-area:bc}[speech-bubble][pbottom][aright][_ngcontent-%COMP%]{grid-area:br}[speech-bubble][pright][atop][_ngcontent-%COMP%]{grid-area:rt}[speech-bubble][pright][acenter][_ngcontent-%COMP%]{grid-area:rc}[speech-bubble][pright][abottom][_ngcontent-%COMP%]{grid-area:rb}[speech-bubble][pleft][atop][_ngcontent-%COMP%]{grid-area:lt}[speech-bubble][pleft][acenter][_ngcontent-%COMP%]{grid-area:lc}[speech-bubble][pleft][abottom][_ngcontent-%COMP%]{grid-area:lb}[speech-bubble][ptop][aleft][_ngcontent-%COMP%]{grid-area:tl}[speech-bubble][ptop][acenter][_ngcontent-%COMP%]{grid-area:tc}[speech-bubble][ptop][aright][_ngcontent-%COMP%]{grid-area:tr}[speech-bubble][pbottom][_ngcontent-%COMP%], [speech-bubble][ptop][_ngcontent-%COMP%]{margin:0}[speech-bubble][_ngcontent-%COMP%]{filter:drop-shadow(0px 0px .2rem black);transition:transform .25s ease}[speech-bubble][_ngcontent-%COMP%]:hover{transform:scale(1.05);filter:drop-shadow(0px 0px .2rem black) drop-shadow(0px 0px 1rem var(--bbColor))}[speech-bubble][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;color:#fff;text-shadow:1px 1px 2px black;margin-bottom:.5rem}[speech-bubble] code[_ngcontent-%COMP%]{background:white;margin:.125rem;box-shadow:0 0 5px #00000080;white-space:nowrap;font-size:.9rem}.middle[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:1rem}.wrapdiv[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;color:#fff}#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:100%;height:100%;max-height:100%;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:750px;max-height:750px;overflow-y:scroll}']}),n})()}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(v),s.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[i.ez,O,p.u5,p.UX]}),n})()}}]);